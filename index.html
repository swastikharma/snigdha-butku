<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Snigdha ðŸŒ¸</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  overflow:hidden;
  font-family:"Georgia",serif;
  background:radial-gradient(circle at top,#2b5876,#4e4376);
  color:#fff;
}

.screen{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:20px;
}

.hidden{display:none}

/* MEMORY WALL GRID */
#memoryGrid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(90px,1fr));
  gap:8px;
  width:100%;
  height:100%;
  padding:20px;
}

.memoryItem{
  padding:6px;
  border-radius:16px;
  background:linear-gradient(135deg,#ffd166,#f1c453,#ffd166);
  box-shadow:0 6px 14px rgba(0,0,0,.35);
}

.memoryItem img{
  width:100%;
  height:90px;
  object-fit:cover;
  border-radius:12px;
}

/* FIREWORKS */
.firework{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  box-shadow:
    0 0 #ffb703,
    20px 0 #ffd166,
    -20px 0 #cdb4db,
    0 20px #ffafcc,
    0 -20px #bde0fe;
  animation:boom 1.6s ease-out forwards;
}

@keyframes boom{
  from{transform:scale(0);opacity:1}
  to{transform:scale(3);opacity:0}
}

/* BUTTON */
button{
  padding:14px 36px;
  border-radius:30px;
  border:none;
  background:#ffd166;
  color:#000;
  font-size:16px;
  cursor:pointer;
  margin-top:22px;
}
</style>
</head>

<body>

<!-- LOCK SCREEN -->
<div id="lock" class="screen">
  <div>
    <h1>Snigdha ðŸŒ¼</h1>
    <p>Waiting for midnightâ€¦</p>
    <div id="clock"></div>
  </div>
</div>

<!-- MEMORY WALL -->
<div id="memoryWall" class="screen hidden">
  <div id="memoryGrid"></div>
</div>

<!-- CELEBRATION -->
<div id="celebrate" class="screen hidden">
  <div>
    <h1>ðŸŽ‰ HAPPY BIRTHDAY SNIGDHA ðŸŽ‰</h1>
    <button onclick="openNext()">Open Your Surprise</button>
  </div>
</div>

<!-- NEXT SCREEN (placeholder) -->
<div id="next" class="screen hidden">
  <h1>Next stage loaded âœ”</h1>
</div>

<audio id="voice" src="voice.mp3"></audio>

<script>
/* ===== TODAY MIDNIGHT LOGIC ===== */
const nowDate = new Date();

// 11:59 PM today
const unlock = new Date(
  nowDate.getFullYear(),
  nowDate.getMonth(),
  nowDate.getDate(),
  23, 59, 0
).getTime();

// 12:00 AM tomorrow
const midnight = new Date(
  nowDate.getFullYear(),
  nowDate.getMonth(),
  nowDate.getDate() + 1,
  0, 0, 0
).getTime();

/* ELEMENTS */
const lock = document.getElementById("lock");
const memoryWall = document.getElementById("memoryWall");
const memoryGrid = document.getElementById("memoryGrid");
const celebrate = document.getElementById("celebrate");
const next = document.getElementById("next");
const clock = document.getElementById("clock");
const voice = document.getElementById("voice");

/* STATE */
let index = 1;        // photo counter (1â€“25)
let lastSecond = null;
let done = false;

/* MAIN LOOP */
setInterval(()=>{
  const now = Date.now();
  clock.textContent = new Date().toLocaleTimeString();

  if(now < unlock) return;

  // 11:59 â†’ memory wall
  if(now >= unlock && now < midnight){
    lock.classList.add("hidden");
    memoryWall.classList.remove("hidden");

    const sec = Math.ceil((midnight - now) / 1000);

    // 25 photos â†’ one every 2 seconds
    if(sec !== lastSecond && index <= 25 && sec % 2 === 0){
      lastSecond = sec;

      const box = document.createElement("div");
      box.className = "memoryItem";

      const img = document.createElement("img");
      img.src = `m${String(index).padStart(2,"0")}.jpg`;

      box.appendChild(img);
      memoryGrid.appendChild(box);

      index++;
    }
  }

  // Midnight
  if(now >= midnight && !done){
    done = true;
    memoryWall.classList.add("hidden");
    celebrate.classList.remove("hidden");
    voice.play();
    fireworks();
  }
},500);

/* FIREWORK EFFECT */
function fireworks(){
  for(let i=0;i<30;i++){
    const f = document.createElement("div");
    f.className = "firework";
    f.style.left = Math.random()*100 + "vw";
    f.style.top = Math.random()*100 + "vh";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1600);
  }
}

/* NEXT STAGE */
function openNext(){
  celebrate.classList.add("hidden");
  next.classList.remove("hidden");
}
</script>

</body>
</html>