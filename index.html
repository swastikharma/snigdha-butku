<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Snigdha ðŸŒ¸</title>

<style>
*{box-sizing:border-box}

body{
  margin:0;
  height:100vh;
  overflow:hidden;
  font-family:"Georgia",serif;
  background:url("paper1.jpg") center/cover no-repeat;
  transition:background 1.2s ease;
  position:relative;
}

/* ===== GRAIN + VIGNETTE ===== */
body::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  background:radial-gradient(ellipse at center,
    rgba(0,0,0,0) 55%,
    rgba(0,0,0,.18) 100%);
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  background:url("https://grainy-gradients.vercel.app/noise.svg");
  opacity:.08;
}

/* ===== SCREENS ===== */
.screen{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}
.hidden{display:none}

/* ===== LOCK ===== */
#lock{text-align:center;font-size:24px}

/* ===== TREE ===== */
#treeWrap{position:relative;width:100%;height:100%}
#treeWrap img{
  position:absolute;
  left:50%;
  bottom:0;
  transform:translateX(-50%);
  height:80%;
}

/* ===== SCRAPBOOK FRAME ===== */
.scrapbook-frame{
  position:absolute;
  width:120px;
  background:#fff;
  padding:14px 14px 34px;
  box-shadow:0 14px 32px rgba(0,0,0,.25);
  border-radius:2px;
  opacity:0;
  transform:translateY(16px) rotate(var(--r,0deg));
  animation:fadeIn 1.6s ease forwards;
}
.scrapbook-frame img{
  width:100%;
  height:90px;
  object-fit:cover;
}
.scrapbook-frame::before{
  content:"";
  position:absolute;
  top:-10px;
  left:50%;
  transform:translateX(-50%) rotate(-3deg);
  width:60px;
  height:18px;
  background:#e6e0d8;
  opacity:.75;
  border-radius:3px;
}
@keyframes fadeIn{
  to{opacity:1;transform:translateY(0) rotate(var(--r,0deg))}
}

/* ===== CELEBRATE ===== */
#celebrate{
  background:url("paper2.jpg") center/cover no-repeat;
  text-align:center;
  font-size:30px;
  color:#fff;
}
button{
  margin-top:20px;
  padding:12px 30px;
  border:none;
  border-radius:30px;
  font-size:16px;
  cursor:pointer;
}

/* ===== GALLERY ===== */
#gallery{
  background:url("paper3.jpg") center/cover no-repeat;
}
.galleryWrap{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:24px;
}
#gallery .scrapbook-frame{
  position:relative;
  width:100%;
  --r:0deg;
}
#gallery .scrapbook-frame img{height:180px}
</style>
</head>

<body>

<!-- LOCK -->
<div id="lock" class="screen">
  <div>
    <h2>Snigdha ðŸŒ¸</h2>
    <p>Something special is startingâ€¦</p>
    <div id="clock"></div>
  </div>
</div>

<!-- TREE -->
<div id="memoryWall" class="screen hidden">
  <div id="treeWrap">
    <img src="tree.png">
  </div>
</div>

<!-- CELEBRATE -->
<div id="celebrate" class="screen hidden">
  <div>
    ðŸŽ‰ Happy Birthday Snigdha ðŸŽ‰<br>
    <button onclick="openGallery()">Open</button>
  </div>
</div>

<!-- GALLERY -->
<div id="gallery" class="screen hidden">
  <div class="galleryWrap">
    <div class="scrapbook-frame"><img src="photo1.jpg"></div>
    <div class="scrapbook-frame"><img src="photo2.jpg"></div>
    <div class="scrapbook-frame"><img src="photo3.jpg"></div>
    <div class="scrapbook-frame"><img src="photo4.jpg"></div>
    <div class="scrapbook-frame"><img src="photo5.jpg"></div>
  </div>
</div>

<audio id="voice" src="voice.mp3"></audio>

<script>
/* ===== RUN IN NEXT 2 MINUTES (SAFE MODE) ===== */
const unlock = Date.now() + 2 * 60 * 1000;     // 2 minutes from now
const midnight = unlock + 60 * 1000;           // 1 minute later

const lock=document.getElementById("lock");
const wall=document.getElementById("memoryWall");
const tree=document.getElementById("treeWrap");
const celebrate=document.getElementById("celebrate");
const gallery=document.getElementById("gallery");
const clock=document.getElementById("clock");
const voice=document.getElementById("voice");

let i=1,last=null,done=false;

/* 35 POSITIONS */
const spots=[
 {x:42,y:18},{x:58,y:18},{x:30,y:24},{x:70,y:24},
 {x:35,y:32},{x:55,y:34},{x:25,y:38},{x:72,y:38},
 {x:45,y:44},{x:62,y:46},{x:32,y:48},{x:68,y:50},
 {x:40,y:56},{x:60,y:58},{x:28,y:58},{x:72,y:60},
 {x:36,y:64},{x:52,y:66},{x:45,y:70},{x:65,y:70},
 {x:30,y:72},{x:70,y:74},{x:38,y:76},{x:58,y:78},
 {x:42,y:80},{x:62,y:82},{x:35,y:84},{x:70,y:86},
 {x:48,y:86},{x:55,y:90},{x:40,y:90},{x:65,y:92},
 {x:50,y:94},{x:30,y:92},{x:72,y:94}
];

setInterval(()=>{
  const now=Date.now();
  clock.textContent=new Date().toLocaleTimeString();

  if(now>=unlock && now<midnight){
    lock.classList.add("hidden");
    wall.classList.remove("hidden");

    const sec=Math.ceil((midnight-now)/1000);
    if(sec!==last && i<=35){
      last=sec;
      const f=document.createElement("div");
      f.className="scrapbook-frame";
      f.style.left=spots[i-1].x+"%";
      f.style.top=spots[i-1].y+"%";
      f.style.setProperty("--r",(Math.random()*6-3)+"deg");

      const img=document.createElement("img");
      img.src=`m${String(i).padStart(2,"0")}.jpg`;

      f.appendChild(img);
      tree.appendChild(f);
      i++;
    }
  }

  if(now>=midnight && !done){
    done=true;
    wall.classList.add("hidden");
    celebrate.classList.remove("hidden");
    voice.play();
  }
},500);

function openGallery(){
  celebrate.classList.add("hidden");
  gallery.classList.remove("hidden");
}
</script>

</body>
</html>
